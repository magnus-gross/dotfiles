- name: Clone dotfiles
  git:
    repo: 'https://gitlab.com/vimpostor/dotfiles.git'
    dest: "{{ dotfiles_dir }}"
- name: Install dotfiles
  command:
    chdir: "{{ dotfiles_dir }}"
    cmd: ./link.sh -y
    creates: '~/.zshrc'
- name: Create XDG directories
  command:
    chdir: '~'
    cmd: mkdir Desktop Downloads Music Pictures Videos
    creates: '~/Downloads'
- name: Clone AUR helper (yay)
  git:
    repo: 'https://aur.archlinux.org/yay.git'
    dest: "{{ aur_helper_dir }}"
- name: Install AUR helper dependencies
  pacman:
    name: go
- name: Build AUR helper
  command:
    chdir: "{{ aur_helper_dir }}"
    cmd: makepkg -s
    creates: "{{ aur_helper_dir }}/pkg"
